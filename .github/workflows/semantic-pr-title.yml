name: PR Checks

on:
  pull_request:
    branches:
      - master
      - dev

jobs:
  pr-title:
    name: PR Title Check
    runs-on: ubuntu-latest
    steps:
      - uses: amannn/action-semantic-pull-request@v5
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          types: |
            feat
            fix
            chore
            refactor
          requireScope: true
          headerPattern: '^(\w+)\(([A-Z]{2,}-\d+|rel\d{4}\.(?:[1-9]|1[0-2])\/main)\)\!?:\s?(.+)$'
          headerPatternCorrespondence: type, scope, subject
          subjectPattern: ^(?![A-Z]).{10,100}$
          subjectPatternError: |
            Please ensure that the subject doesn't start with an uppercase
            character, and is between 10-100 characters.
          ignoreLabels: |
            ignore-pr-title